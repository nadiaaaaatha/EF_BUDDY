<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Crunch Caf√©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../config.js"></script>
    <script src="../function.js"></script>
    <link href="../custom.css" rel="stylesheet">

    <style>


        .bg-amber-50 {
             background: #6495ED !important;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            75% {
                transform: translateX(5px);
            }
        }

        .pulse-animation {
            animation: pulse 1s infinite;
        }

        .shake-animation {
            animation: shake 0.5s ease-in-out;
        }

        .progress-bar {
            transition: width 0.1s linear;
        }

        .customer-card {
            transition: all 0.3s ease;
        }

        .customer-card.urgent {
            border-color: #ef4444;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
        }
    </style>
</head>

<body class="bg-amber-50 min-h-screen">
    <div id="loadingSave" style="display:none;">
        <div class="spinner-container">
            <div class="spinner"></div>
            <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...</p>
        </div>
    </div>
    <!-- Game Container -->
    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-4xl font-bold text-amber-800 mb-2">‚òï Time Crunch Caf√©</h1>
            <p class="text-amber-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!</p>
        </div>

        <!-- Game Stats -->
        <div class="bg-white rounded-full shadow-lg p-4 mb-6 max-w-4xl mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-center">
                <div class="bg-red-50 rounded-full p-4 aspect-[4/3] flex flex-col justify-center">
                    <div class="text-xl font-bold text-red-600" id="timeLeft">66</div>
                    <div class="text-xs text-red-500 mt-1">‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
                </div>
                <div class="bg-green-50 rounded-full p-4 aspect-[4/3] flex flex-col justify-center">
                    <div class="text-xl font-bold text-green-600" id="score">0</div>
                    <div class="text-xs text-green-500 mt-1">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                </div>
                <div class="bg-blue-50 rounded-full p-4 aspect-[4/3] flex flex-col justify-center">
                    <div class="text-xl font-bold text-blue-600" id="coffeeStock">0</div>
                    <div class="text-xs text-blue-500 mt-1">‡∏Å‡∏≤‡πÅ‡∏ü‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</div>
                </div>
                <div class="bg-purple-50 rounded-full p-4 aspect-[4/3] flex flex-col justify-center">
                    <div class="text-xl font-bold text-purple-600" id="customersServed">0</div>
                    <div class="text-xs text-purple-500 mt-1">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à</div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button id="prepareBtn"
                    class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 transform hover:scale-105">
                    <div class="text-lg">üîß ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á</div>
                    <div class="text-sm opacity-90">5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí +3 ‡πÅ‡∏Å‡πâ‡∏ß</div>
                </button>
                <button id="serveBtn"
                    class="bg-green-500 hover:bg-green-600 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 transform hover:scale-105">
                    <div class="text-lg">‚òï ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏Å‡∏≤‡πÅ‡∏ü</div>
                    <div class="text-sm opacity-90">3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                    <div class="text-xs opacity-75" id="serveCounter">‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÑ‡∏î‡πâ: 0 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
                </button>
                <button id="cashierBtn"
                    class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 transform hover:scale-105">
                    <div class="text-lg">üí∞ ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô</div>
                    <div class="text-sm opacity-90">4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                </button>
            </div>
            <div id="actionStatus" class="text-center mt-4 text-lg font-semibold text-amber-700"></div>
        </div>

        <!-- Customer Queue -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h3 class="text-xl font-semibold text-amber-800 mb-4">üßë‚Äçü§ù‚Äçüßë ‡∏Ñ‡∏¥‡∏ß‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
            <div id="customerQueue" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Customer cards will be added here -->
            </div>
            <div id="emptyQueue" class="text-center text-gray-500 py-8">
                <div class="text-4xl mb-2">üò¥</div>
                <div>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</div>
            </div>
        </div>

        <!-- Start/End Game -->
        <div id="startScreen" class="bg-white rounded-xl shadow-lg p-8 text-center">
            <div class="text-6xl mb-4">‚òï</div>
            <h2 class="text-2xl font-bold text-amber-800 mb-4">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?</h2>
            <p class="text-amber-700 mb-6">‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ 66 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!</p>
            <button id="startBtn"
                class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-lg text-xl transition-all duration-200 transform hover:scale-105">
                üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
            </button>

            <!-- Game Instructions -->
            <div class="mt-8 bg-amber-50 border border-amber-200 rounded-lg p-6 text-left">
                <h3 class="text-xl font-bold text-amber-800 mb-4 text-center">üïπÔ∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° Time Crunch Caf√©</h3>

                <div class="space-y-4 text-amber-800">
                    <p class="text-sm leading-relaxed">
                        <strong>üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:</strong> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô 66 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (2.5 ‡∏ô‡∏≤‡∏ó‡∏µ)
                    </p>

                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2">üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô:</h4>
                        <ol class="text-sm space-y-1 list-decimal list-inside">
                            <li><strong>‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á</strong> (5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‚Üí ‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö 3 ‡πÅ‡∏Å‡πâ‡∏ß</li>
                            <li><strong>‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏Å‡∏≤‡πÅ‡∏ü</strong> (3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‚Üí ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏û‡∏≠‡πÉ‡∏à</li>
                            <li><strong>‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô</strong> (4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‚Üí ‡πÑ‡∏î‡πâ 1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>
                        </ol>
                    </div>

                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2">‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏≠‡πÑ‡∏î‡πâ:</h4>
                        <ul class="text-sm space-y-1 list-disc list-inside">
                            <li>‡∏£‡∏≠‡∏Å‡∏≤‡πÅ‡∏ü: <strong>14 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</strong></li>
                            <li>‡∏£‡∏≠‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô: <strong>17 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</strong></li>
                            <li>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡∏ó‡∏∏‡∏Å <strong>7 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</strong></li>
                        </ul>
                    </div>

                    <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                        <p class="text-sm text-red-700">
                            <strong>‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</strong> ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á! ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ
                        </p>
                    </div>

                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                        <p class="text-sm text-green-700">
                            <strong>üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö:</strong> ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡πÅ‡∏ü‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô (‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏™‡∏±‡πà‡∏ô)
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="endScreen" class="bg-white rounded-xl shadow-lg p-8 text-center hidden">
            <div class="text-6xl mb-4" id="endEmoji">üéâ</div>
            <h2 class="text-2xl font-bold text-amber-800 mb-4">‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!</h2>
            <div class="text-lg text-amber-700 mb-6">
                <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span class="font-bold text-2xl text-green-600" id="finalScore">0</span></div>
                <div>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à: <span class="font-bold" id="finalCustomersServed">0</span> ‡∏Ñ‡∏ô</div>
                <div>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏∏‡∏î: <span class="font-bold text-red-600" id="customersLost">0</span> ‡∏Ñ‡∏ô</div>
                <div style="margin-top: 20px;"><span class="font-bold " id="customersLostLevel"
                        style="color: black;"></span></div>
                <div>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ : <span class="font-bold " id="customersLostMsg" style="color: black;"></span></div>
                <div>‡πÅ‡∏ô‡∏ß‡∏û‡∏±‡∏í‡∏ô‡∏≤ : <span class="font-bold " id="customersLostMsg2" style="color: black;"></span></div>
            </div>




            <button id="restartBtn"
                class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-lg text-xl transition-all duration-200 transform hover:scale-105">
                üîÑ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </button>
        </div>
    </div>

    <script>
        class TimeCrunchCafe {
            constructor() {
                this.gameTime = 66; // ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Å‡∏°‡∏™‡πå
                this.score = 0;
                this.coffeeStock = 0;
                this.customersServed = 0;
                this.customersLost = 0;
                this.customers = [];
                this.nextCustomerId = 1;
                this.gameRunning = false;
                this.actionInProgress = false;
                this.gameTimer = null;
                this.customerSpawnTimer = null;

                this.customerNames = [
                    '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢', '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á', '‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå', '‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏¥‡πÑ‡∏•', '‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò‡πå',
                    '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∏‡∏î‡∏≤', '‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏ô‡∏∞', '‡∏Ñ‡∏∏‡∏ì‡∏à‡∏¥‡∏£‡∏≤', '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå', '‡∏Ñ‡∏∏‡∏ì‡∏û‡∏¥‡∏°‡∏û‡πå',
                    '‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏ô‡∏≤', '‡∏Ñ‡∏∏‡∏ì‡∏£‡∏±‡∏ï‡∏ô‡∏≤', '‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏¥‡∏ä‡∏±‡∏¢', '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∏‡∏ô‡∏µ‡∏¢‡πå', '‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏ô‡∏∏‡∏ä‡∏≤'
                ];

                this.initializeElements();
                this.bindEvents();
            }

            initializeElements() {
                this.elements = {
                    timeLeft: document.getElementById('timeLeft'),
                    score: document.getElementById('score'),
                    coffeeStock: document.getElementById('coffeeStock'),
                    customersServed: document.getElementById('customersServed'),
                    customerQueue: document.getElementById('customerQueue'),
                    emptyQueue: document.getElementById('emptyQueue'),
                    prepareBtn: document.getElementById('prepareBtn'),
                    serveBtn: document.getElementById('serveBtn'),
                    cashierBtn: document.getElementById('cashierBtn'),
                    actionStatus: document.getElementById('actionStatus'),
                    startScreen: document.getElementById('startScreen'),
                    endScreen: document.getElementById('endScreen'),
                    startBtn: document.getElementById('startBtn'),
                    restartBtn: document.getElementById('restartBtn'),
                    finalScore: document.getElementById('finalScore'),
                    finalCustomersServed: document.getElementById('finalCustomersServed'),
                    customersLost: document.getElementById('customersLost'),
                    endEmoji: document.getElementById('endEmoji'),
                    serveCounter: document.getElementById('serveCounter')
                };
            }

            bindEvents() {
                this.elements.startBtn.addEventListener('click', () => this.startGame());
                this.elements.restartBtn.addEventListener('click', () => this.restartGame());
                this.elements.prepareBtn.addEventListener('click', () => this.prepareAction());
                this.elements.serveBtn.addEventListener('click', () => this.serveAction());
                this.elements.cashierBtn.addEventListener('click', () => this.cashierAction());
            }

            startGame() {
                this.gameRunning = true;
                this.elements.startScreen.classList.add('hidden');
                this.resetGame();
                this.startTimers();
                this.spawnCustomer(); // Spawn first customer immediately
            }

            resetGame() {
                this.gameTime = 66;
                this.score = 0;
                this.coffeeStock = 0;
                this.customersServed = 0;
                this.customersLost = 0;
                this.customers = [];
                this.nextCustomerId = 1;
                this.actionInProgress = false;
                this.updateDisplay();
                this.updateCustomerQueue();
            }

            startTimers() {
                // Main game timer
                this.gameTimer = setInterval(() => {
                    this.gameTime--;
                    this.updateDisplay();

                    if (this.gameTime <= 0) {
                        this.endGame();
                    }
                }, 1000);

                // Customer spawn timer (every 7 seconds)
                this.customerSpawnTimer = setInterval(() => {
                    if (this.gameRunning) {
                        this.spawnCustomer();
                    }
                }, 7000);

                // Customer timer updates (every second)
                this.customerUpdateTimer = setInterval(() => {
                    this.updateCustomers();
                }, 1000);
            }

            spawnCustomer() {
                const name = this.customerNames[Math.floor(Math.random() * this.customerNames.length)];
                const customer = {
                    id: this.nextCustomerId++,
                    name: name,
                    status: 'waiting_coffee', // waiting_coffee, waiting_payment, satisfied
                    timeLeft: 14, // 14 seconds to wait for coffee
                    maxTime: 14
                };

                this.customers.push(customer);
                this.updateCustomerQueue();
            }

            updateCustomers() {
                let customersToRemove = [];

                this.customers.forEach(customer => {
                    customer.timeLeft--;

                    if (customer.timeLeft <= 0) {
                        customersToRemove.push(customer.id);
                        this.customersLost++;
                    }
                });

                // Remove expired customers
                customersToRemove.forEach(id => {
                    this.customers = this.customers.filter(c => c.id !== id);
                });

                this.updateCustomerQueue();
                this.updateDisplay();
            }

            updateCustomerQueue() {
                const queue = this.elements.customerQueue;
                const emptyQueue = this.elements.emptyQueue;

                if (this.customers.length === 0) {
                    queue.innerHTML = '';
                    emptyQueue.classList.remove('hidden');
                    return;
                }

                emptyQueue.classList.add('hidden');

                queue.innerHTML = this.customers.map(customer => {
                    const isUrgent = customer.timeLeft <= 3;
                    const statusText = customer.status === 'waiting_coffee' ? '‡∏£‡∏≠‡∏Å‡∏≤‡πÅ‡∏ü' : '‡∏£‡∏≠‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô';
                    const statusColor = customer.status === 'waiting_coffee' ? 'bg-orange-100 text-orange-800' : 'bg-blue-100 text-blue-800';
                    const progressPercent = (customer.timeLeft / customer.maxTime) * 100;

                    return `
 <div class="customer-card bg-white border-2 ${isUrgent ? 'border-red-400 urgent' : 'border-gray-200'} rounded-lg p-4 ${isUrgent ? 'shake-animation' : ''}">
 <div class="flex justify-between items-center mb-2">
 <div class="font-semibold text-gray-800">${customer.name}</div>
 <div class="text-2xl">${customer.status === 'waiting_coffee' ? '‚òï' : 'üí∞'}</div>
 </div>
 <div class="text-sm ${statusColor} px-2 py-1 rounded mb-2">${statusText}</div>
 <div class="w-full bg-gray-200 rounded-full h-2">
 <div class="progress-bar h-2 rounded-full ${customer.timeLeft <= 3 ? 'bg-red-500' : 'bg-green-500'}" 
 style="width: ${progressPercent}%"></div>
 </div>
 <div class="text-xs text-gray-600 mt-1">${customer.timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
 </div>
 `;
                }).join('');
            }

            updateDisplay() {
                this.elements.timeLeft.textContent = this.gameTime;
                this.elements.score.textContent = this.score;
                this.elements.coffeeStock.textContent = this.coffeeStock;
                this.elements.customersServed.textContent = this.customersServed;
                this.elements.serveCounter.textContent = `‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÑ‡∏î‡πâ: ${this.coffeeStock} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á`;
            }

            prepareAction() {
                if (this.actionInProgress) return;
                this.performAction('prepare', 5, () => {
                    this.coffeeStock += 3;
                    this.updateDisplay();
                });
            }

            serveAction() {
                if (this.actionInProgress || this.coffeeStock <= 0) return;

                const waitingCustomers = this.customers.filter(c => c.status === 'waiting_coffee');
                if (waitingCustomers.length === 0) return;

                // Find customer with least time left (most urgent) or first in queue
                const customerToServe = waitingCustomers.reduce((prev, current) => {
                    return (prev.timeLeft < current.timeLeft) ? prev : current;
                });

                this.performAction('serve', 3, () => {
                    this.coffeeStock--;
                    customerToServe.status = 'waiting_payment';
                    customerToServe.timeLeft = 17;
                    customerToServe.maxTime = 17;
                    this.updateDisplay();
                    this.updateCustomerQueue();

                    // Auto-serve next customer if they have less than 3 seconds and we have coffee stock
                    setTimeout(() => {
                        const nextUrgentCustomer = this.customers.find(c =>
                            c.status === 'waiting_coffee' && c.timeLeft <= 3
                        );
                        if (nextUrgentCustomer && this.coffeeStock > 0 && !this.actionInProgress) {
                            this.serveAction();
                        }
                    }, 100);
                });
            }

            cashierAction() {
                if (this.actionInProgress) return;

                const paymentCustomer = this.customers.find(c => c.status === 'waiting_payment');
                if (!paymentCustomer) return;

                this.performAction('cashier', 4, () => {
                    this.customers = this.customers.filter(c => c.id !== paymentCustomer.id);
                    this.score++;
                    this.customersServed++;
                    this.updateDisplay();
                    this.updateCustomerQueue();
                });
            }

            performAction(actionType, duration, callback) {
                this.actionInProgress = true;
                this.disableButtons();

                const actionNames = {
                    prepare: '‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á',
                    serve: '‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏Å‡∏≤‡πÅ‡∏ü',
                    cashier: '‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô'
                };

                let timeLeft = duration;
                this.elements.actionStatus.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á${actionNames[actionType]} (${timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)`;

                const actionTimer = setInterval(() => {
                    timeLeft--;
                    this.elements.actionStatus.textContent = `‡∏Å‡∏≥‡∏•‡∏±‡∏á${actionNames[actionType]} (${timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)`;

                    if (timeLeft <= 0) {
                        clearInterval(actionTimer);
                        this.actionInProgress = false;
                        this.elements.actionStatus.textContent = '';
                        this.enableButtons();
                        callback();
                    }
                }, 1000);
            }

            disableButtons() {
                this.elements.prepareBtn.disabled = true;
                this.elements.serveBtn.disabled = true;
                this.elements.cashierBtn.disabled = true;
                this.elements.prepareBtn.classList.add('opacity-50', 'cursor-not-allowed');
                this.elements.serveBtn.classList.add('opacity-50', 'cursor-not-allowed');
                this.elements.cashierBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }

            enableButtons() {
                this.elements.prepareBtn.disabled = false;
                this.elements.serveBtn.disabled = false;
                this.elements.cashierBtn.disabled = false;
                this.elements.prepareBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                this.elements.serveBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                this.elements.cashierBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }

            endGame() {
                this.gameRunning = false;
                clearInterval(this.gameTimer);
                clearInterval(this.customerSpawnTimer);
                clearInterval(this.customerUpdateTimer);

                this.elements.finalScore.textContent = this.score;
                this.elements.finalCustomersServed.textContent = this.customersServed;
                this.elements.customersLost.textContent = this.customersLost;

                if (this.score >= 15) {
                    this.elements.endEmoji.textContent = 'üèÜ';
                } else if (this.score >= 10) {
                    this.elements.endEmoji.textContent = 'üéâ';
                } else if (this.score >= 5) {
                    this.elements.endEmoji.textContent = 'üëç';
                } else {
                    this.elements.endEmoji.textContent = 'üòÖ';
                }

                let customersLostLevel = '';
                let customersLostMsg = '';
                let customersLostMsg2 = '';
                let customersLostScore = 0;

                if (this.customersServed >= 18) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 7: ‡∏õ‡∏£‡∏°‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (Management Master - Top Tier)';
                    customersLostMsg = '‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞ EF ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£';
                    customersLostMsg2 = '‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô ‡∏´‡∏≤‡∏Å‡πÄ‡∏Å‡∏°‡∏°‡∏µ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô';
                    customersLostScore = 7;
                } else if (this.customersServed >= 15) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 6: ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (Management Expert)';
                    customersLostMsg = '‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ô‡πâ‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥';
                    customersLostMsg2 = '‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ "‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö" ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö';
                    customersLostScore = 6;
                } else if (this.customersServed >= 12) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 5: ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û (Proactive Manager)';
                    customersLostMsg = '‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞ EF ‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ';
                    customersLostMsg2 = '‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å ‡πÅ‡∏•‡∏∞‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£ "‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô" ‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô';
                    customersLostScore = 5;
                } else if (this.customersServed >= 9) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 4: ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Standard Manager)';
                    customersLostMsg = '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏î‡∏µ';
                    customersLostMsg2 = '‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó';
                    customersLostScore = 4;
                } else if (this.customersServed >= 6) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 3: ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡πâ‡∏ô (Junior Manager)';
                    customersLostMsg = '‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏¥‡∏ß‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏û‡∏≠‡∏™‡∏°‡∏Ñ‡∏ß‡∏£ ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô';
                    customersLostMsg2 = '‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤ (Troubleshooting) ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏°‡πà‡∏Ñ‡∏≤‡∏î‡∏Ñ‡∏¥‡∏î';
                    customersLostScore = 3;
                } else if (this.customersServed >= 3) {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 2: ‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ (Apprentice)';
                    customersLostMsg = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡∏¥‡∏î‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô';
                    customersLostMsg2 = '‡∏ù‡∏∂‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‡∏°‡∏≠‡∏á‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ';
                    customersLostScore = 2;
                } else {
                    customersLostLevel = '‡∏£‡∏∞‡∏î‡∏±‡∏ö 1: ‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà (Novice)';
                    customersLostMsg = '‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏∏‡∏î‡πÑ‡∏õ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢';
                    customersLostMsg2 = '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ù‡∏∂‡∏Å‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°';
                    customersLostScore = 1;
                }

                document.getElementById('customersLostLevel').textContent = customersLostLevel;
                document.getElementById('customersLostMsg').textContent = customersLostMsg;
                document.getElementById('customersLostMsg2').textContent = customersLostMsg2;

                alert('‡πÄ‡∏Å‡∏°‡∏™‡πå‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß')
                scoreGame(customersLostScore, 1)


                this.elements.endScreen.classList.remove('hidden');

            }

            restartGame() {
                this.elements.endScreen.classList.add('hidden');
                this.elements.startScreen.classList.remove('hidden');
            }
        }


        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new TimeCrunchCafe();
        });


    </script>
    </style>
</body>

</html>